#+STARTUP: logdone
#+TITLE: How to fix errors when transferring tUSDT to the exchange account?

* Purpose of the document

To fix the error ~exceeds block gas limit~ when sending tUSDT to the exchange account.

* TODO Is there a way to set the log output of geth to verbose?

* TODO Can we run geth in debug mode?

* TODO Is there JSON RPC call which will return the gas price?

* TODO Experiment 1

** DONE Step 1: Change gas ~gasLimit~ in ~genesis.json~ from ~0x47b760~ to ~0xffffff~ 
   CLOSED: [2021-12-31 Fri 13:28]

** DONE Step 2: Re-deploy the testnets
   CLOSED: [2021-12-31 Fri 13:43]
   
** DONE Step 3: Check whether or not the error still occurs
   CLOSED: [2021-12-31 Fri 13:43]

   Yes, it does.

* TODO Search for the error message in the source code of ~go-ethereum~

** DONE What is the error message we are looking for?
   CLOSED: [2021-12-31 Fri 12:53]

~exceeds block gas limit~

** Protocol

#+begin_src 
ErrGasLimit = errors.New("exceeds block gas limit")
#+end_src

** TODO Search for ~ErrGasLimit~

~/Users/dp118m/dev/misc/go-ethereum/light/txpool.go~

#+begin_src go
header := pool.chain.GetHeaderByHash(pool.head)
if header.GasLimit < tx.Gas() {
	return core.ErrGasLimit
}
#+end_src

** Thought

How can I see the values of

 * ~header.GasLimit~ and
 * ~tx.Gas()~?

   
** Thought: Can we get ~pool.chain.GetHeaderByHash(pool.head)~ in Java or log output?

   
